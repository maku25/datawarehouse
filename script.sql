CREATE TABLE DIM_GEOGRAPHIE (
    ID_GEO NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    ADRESSE VARCHAR2(255),
    VILLE VARCHAR2(100),
    ETAT VARCHAR2(10),
    CODE_POSTAL VARCHAR2(20),
    LATITUDE NUMBER,
    LONGITUDE NUMBER
);

CREATE TABLE DIM_COMMERCE (
    ID_COMMERCE VARCHAR2(50) PRIMARY KEY,
    NOM VARCHAR2(255),
    CATEGORIES VARCHAR2(500),
    GAMME_PRIX NUMBER(1), 
    EST_UNE_CHAINE NUMBER(1), 
    POSSEDE_PARKING NUMBER(1),
    ACCEPTE_RESERVATIONS NUMBER(1)
);

CREATE TABLE DIM_TEMPS (
    ID_TEMPS NUMBER PRIMARY KEY, 
    DATE_COMPLETE DATE,
    ANNEE NUMBER,
    MOIS NUMBER,
    TRIMESTRE NUMBER,
    JOUR_SEMAINE VARCHAR2(20)
);

CREATE TABLE DIM_UTILISATEUR (
    ID_UTILISATEUR VARCHAR2(50) PRIMARY KEY,
    NOM VARCHAR2(100),
    EST_ELITE NUMBER(1),
    NB_FANS NUMBER,
    NOTE_MOYENNE_DONNEE NUMBER
);

CREATE TABLE FAIT_PERFORMANCE (
    ID_FAIT NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    ID_TEMPS NUMBER REFERENCES DIM_TEMPS(ID_TEMPS),
    ID_GEO NUMBER REFERENCES DIM_GEOGRAPHIE(ID_GEO),
    ID_COMMERCE VARCHAR2(50) REFERENCES DIM_COMMERCE(ID_COMMERCE),
    ID_UTILISATEUR VARCHAR2(50) REFERENCES DIM_UTILISATEUR(ID_UTILISATEUR),
    NOTE_ETOILE NUMBER(2,1),
    SCORE_SENTIMENT NUMBER(3,2),
    NB_VISITES NUMBER DEFAULT 0,
    NB_VOTES_UTILES NUMBER
);